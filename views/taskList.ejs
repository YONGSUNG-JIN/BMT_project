<!DOCTYPE html>
<html lang="en">
<%- include('./partials/head.ejs') %>

    <body>
        <%- include('./partials/nav.ejs') %>

            <div class="row">
                <div class="col-6">
                    <h1>Tasks</h1>
                </div>
                <div class="col-6 d-flex justify-content-end">
                    <a href="task/add" type="button" class="btn btn-primary align-self-center">ADD</a>
                </div>
            </div>  
            <table class="table table-bordered table-hover">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">No</th>
                        <th scope="col">From</th>
                        <th scope="col">To</th>
                        <th scope="col">Title</th>
                        <th scope="col">Written</th>
                        <th scope="col">Due Date</th>
                        <th scope="col" class="text-end">Status</th>
                    </tr>
                </thead>
                <tbody>
                    <% if(taskList.length > 0) { %>
                        <% taskList.forEach(task => { %>
                            <tr>
                                <td scope="row"><%=taskList.indexOf(task)+1%></td>
                                <td><%=task.sender%></td>
                                <td><%=task.receiver%></td>
                                <td><a href="task/<%=task._id%>" type="button" class="btn btn-light btn-small"><%=task.title%></a></td>
                                <td><%=task.createdAt.toDateString()%></td>
                                <td><%=task.date%></td>
                                <td class="text-end">
                                    <a href="/task/<%=task._id%>" type="button" class="btn btn-light btn-small"><%= task.status %></a>
                                </td>
                            </tr>
                        <% }) %>
                    <% } %>

                </tbody>
            </table>
    </body>
    <%- include('./partials/footer.ejs') %>

</html>